# BBCode

**BBCode** 是在 osu!论坛 中使用的一种[文本标记语言](https//en.wikipedia.org/wiki/Markup_language)<!--NeedCheck: replace external link-->，也是网络上大多数论坛所支持的文本格式。这种语言对被施于的文本前后包上标签以格式化文本达到格式、标注、嵌入<!--NeedTrans: formatting, attributes, embedding-->类的效果。在 osu! 网站上， BBcode 的普及范围至帖子、签名、用户页面和谱面描述。

![论坛中的编辑器与按钮](img/editor.jpg?1 "论坛中的编辑器")

## 用法

在没有选中任何文字的情况下，单击按钮会在输入框光标的前后分别插入前标签与后标签； 在选中文字的情况下，单击按钮生成的这对标签将包住所选文字。

为了将多种格式应用于一段文字，可将 BBCode 标签置于另一个之中。但在组合标签时，**必须遵守**标签的嵌套顺序。否则会破坏帖子的版式。

这是用法正确或错误的典例：

- `[centre][b]文本[/b][/centre]` 正确
- `[b][centre]文本[/b][/centre]` 错误

## 标签

BBCode 同许多其它文本标记语言一样，用标签的体系格式化文本，这种标签以一对方括号（`[]`）声明。每对标签中“前标签”与“后标签”各占其一，这两类以标签中的斜杠（`/`）区分。准确地说，前方括号之后紧跟一个斜杠的为后标签，前标签没有这个斜杠。

需要注意前标签中时有以等号（`=`）标出 URL、 字号或之类内容。

在 osu! 网站上可用的 BBCode 标签将在下方列出并加以解释。

### 粗体

```
[b]文本[/b]
```

`[b]` 标签将文字加粗以醒目地强调文本。BBCode 的粗体不会对字号作改变。

专用按钮： ![粗体按钮](img/bold.png "粗体")

### 斜体

```
[i]文本[/i]
```

`[i]` 标签将文字向前倾斜以轻微地强调文本（即为斜体）。

专用按钮： ![斜体按钮](img/italic.png "斜体")

### 下划线

```
[u]文本[/u]
```

`[u]` 标签在紧贴所选文本的下方画一条横线以强调文本（即为下划线）。横线的绘制受粗体、斜体类的标签影响。

### 删除线

```
[strike]文本[/strike]
```

*注：“删除线”也被称作“中划线”。*<!--NeedCheck: Should this Note keep?-->

`[strike]` 标签以一条“横穿”文本的横线标出过去记录而现在删除的内容（即为删除线）。

专用按钮： ![删除线按钮](img/strike.png "删除线")

### 颜色

```
[color=十六进制码]文本[/color]
```

*请参阅 [X11 颜色名称](https://zh.wikipedia.org/wiki/网页颜色#X11名称) 以获取颜色名称的列表。*

`[color]` 标签可将文本自定义为各种 web-safe<!--NeedTrans--> 的颜色。标签的颜色由格式为[十六进制码](https://en.wikipedia.org/wiki/Web_colors#Hex_triplet)<!--NeedTrans: Need Replace URL-->或 HTML 的颜色名如 “red”、 “green” 声明。声明方式为替换`十六进制码`参数为所需颜色对应的十六进制代码或 HTML 的颜色名。

参数中不得出现引号（`"`），颜色没有默认值的说法。如果未提供参数，或者参数中出现了引号，整个标签不被视做 BBCode 标签而以普通文本形式出现。

### 字号

```
[size=字号]文本[/size]
```

`[size]` 标签可将文本自定义为不同大小。目前 osu! 网站只提供了 50、 85、 100、 150 四种字号。分别 internally<!--NeedTrans--> 被称做“极小”、“小”、“普通”、“大”。

`NUMBER` 参数中不得出现引号，并且只可为四种字号之一。如果参数与上述四种不符，文本的字号将被设为默认大小。

专用按钮： ![字体大小选项](img/font-size.png "字号")

### 剧透条

*不要与 [剧透框](#剧透框) 混淆。*

```
[spoiler]文本[/spoiler]
```

`[spoiler]` 标签遮挡tag is used to cover up sensitive information with a solid black foreground that reveals the text underneath it upon being highlighted. If stacked with the [`[color]`](#colour) tag, the black cover will not be affected. However, the text under the black cover will still be coloured, whether it is readable or not.

The tag is most commonly used to prevent spoiling critical/sensitive information regarding a TV show, movie, or other media. It is also sometimes used for comedic effect or emphasis.

用黑色背景**覆盖文本**。

如果你在谈论的是电视节目、电影或动画中的关键场景，但不想给其他人剧透，这个标签可能是有用的。然而，读者仍然可以通过高亮选中文本的方式阅读文本。

- 专用按钮： N/A
- 注：
  - 如果你使用了 [颜色](#颜色) 标签，这个颜色将会和黑色背景一起使用。
- 语法：
  ```
  [spoiler] ... [/spoiler]
  ```

### 剧透框

*不要与 [折叠框](#折叠框) 或 [剧透条](#剧透条) 混淆。*

从读者的视角中**隐藏一个段落**。然而，读者仍然可以通过点击剧透框的方式查看隐藏的段落。

- 专用按钮： ![剧透框](img/spoilerbox.png)
- 注：
  - 这将会创建一个带有 `collapsed text` 标题文本的 [折叠框](#折叠框) 。
- 语法：
  ```
  [spoilerbox]
  ...
  [/spoilerbox]
  ```

### 折叠框

*不要与 [剧透框](#剧透框) 混淆。*

从读者的视角看，这个标签会把一个段落隐藏在一个可折叠的盒子里。然而，读者仍然可以通过点击折叠框的方式来显示隐藏的部分以阅读这个段落。

这个标签通常用于隐藏尺寸很大或者数量较多的图片。

- 专用按钮： N/A
- 注：
  - 默认情况下，这将创建一个带有无标题文本的框。
    - 如果你将 `NAME` 参数设置为空（或不包含 `NAME` 参数），那么该折叠框标题的高度将非常小！
  - `NAME` 参数不应该使用引号包围。
  - `NAME` 参数可以包含空格。
- 语法：
  - `NAME` 参数为该折叠框的标题。
  ```
  [box=NAME]
  ...
  [/box]
  ```

### 引用

将给定的文字或段落格式化为引用。

- 专用按钮： N/A
- 注：
  - 如果你要引用某人的话，请注意引用该作者（使用 `NAME` 参数）。
  - `NAME` 参数**必须**使用引号包围。
  - 每个帖子（右下角）有一个引用按钮，它会自动引用当前楼层。
    - 当你点击 `Post`，这个帖子将会被引用到当前主题帖中。
- 语法：
  - `NAME` 为该框的的名字（**必须**使用引号包围）。
  ```
  [quote=NAME]
  ...
  [/quote]
  ```

### 代码

使用 `Monospaced` 字体格式化代码，并将代码放在一个灰色的文本框里。当你为一个项目发布故事板代码或源代码时，这个标签是非常有用的。

- 专用按钮： N/A
- 注：
  - 这将保留代码原有的空白间隔，意味着除非你自己打乱代码的格式，否则所有代码的格式将不会被改变。
  - 多出的文本行将会启用一个水平滚动条。
- 语法：
  ```
  [code]
  ...
  [/code]
  ```

### 居中

居中对齐一个段落。这通常用在标题上。

- 专用按钮： N/A
- 注：
  - 标签必须被拼为 `centre` 而不是 `center` （注意最后两个字母）。
- 语法：
  ```
  [centre]
  ...
  [/centre]
  ```

### URL

添加一条链接。

如果你不想使用链接文本，则不需要使用此标记。osu!论坛 将会在帖子中自动把链接转化成 URL 。

- 专用按钮： ![URL](img/url.png)
- 注：
  - `LINK` 参数不应该使用引号包围。
- 语法：
  - `LINK` 参数为链接地址。
  - `TEXT` 参数为链接文本。
  ```
  [url=LINK]TEXT[/url]
  ```

### 玩家简介

使用玩家名生成玩家简介链接。

**非常不推荐**使用这个标签！不推荐使用的原因是，如果某个玩家获得了一个 [osu!supporter 标签](/wiki/osu!supporter)，那么他的用户名可以被更改。一旦玩家更改了他的用户名，这个链接就会失效。

建议使用 [URL](#url) 标签代替（使用该玩家的 ID）。

- 专用按钮： N/A
- 注：
  - 不推荐使用！
  - `USER` 参数必须被指定。
- 语法：
  - `USER` 为该用户的名字。
  ```
  [profile]USER[/profile]
  ```

### Google

使用所提供的文本自动链接到 Google 搜索查询。

- 专用按钮： N/A
- 注：
  - 要知道，不同的人可能得到不同的搜索结果。
    - 一些搜索结果会由于语言或位置的原因而被隐藏。
- 语法：
  ```
  [google]...[/google]
  ```

### 手气不错

用所提供的文本，使用 Google 的 *手气不错* 按钮，**添加一个指向该页面的直链**。

- 专用按钮： N/A
- 注：
  - 要知道，不同的人可能得到不同的搜索结果。
    - 一些搜索结果会由于语言或位置的原因而被隐藏。
- 语法：
  ```
  [lucky]...[/lucky]
  ```

### 列表

将文本格式化为一个列表。

在 BBCode 中，列表需要有两个部分：包装器和项目符号。制作列表需要把项目符号放在包装器内。

- 专用按钮：
  - 无序列表： ![无序列表](img/list.png)
  - 有序列表： ![有序列表](img/list-numbered.png)
  - 列表项目符号： N/A
  - 列表类型： N/A
- 注：
  - 所有的项目符号必须被列表或列表类型的标签包围。
  - 这些是一些合法的 `TYPE` 参数：
    - (空白) - 无序列表
    - `1` - 数字
    - `a` - 字母（小写）
    - `A` - 字母（大写）
    - `i` - 罗马数字（小写）
    - `I` - 罗马数字（大写）
  - 默认情况下，项目符号列表使用的是无序列表。
  - 嵌套的列表有已知漏洞。
- 语法：
  - `TYPE` 是上面列出的类型之一。
  - 如果没有定义 `TYPE`，则将使用无序列表。
  ```
  [list=TYPE]
  [*]...
  [/list]
  ```

### 图片

**从在线图片源显示一个图像。**

只要图像存在于给定的 URL 中，就可以在任何地方插入这些图像。

**不要将图像链接直接指向到本地文件路径**，使用 `C:\Users\Name\Pictures\image.png` 将**不会**起任何作用！

请将图片上传至 [imgur](https://imgur.com) 或 [puush](https://puush.me) 。一旦图片成功上传，复制粘贴图片标签间提供的直链。另外，一些网站不愿意用户直接访问到他们的图片（直接访问图片也被称为热链）。像上面列出的一些网站，都是直链，因为它们是图片分享网站。

- 专用按钮： ![图片](img/image.png "图片")
- 注：
  - 如果你图片尺寸很大或者数量较多的话，建议把它们放在一个 [折叠框](#折叠框) 里。
- 语法：
  - `LINK` 为图片链接。
  ```
  [img]LINK[/img]
  ```

### Youtube

在你的帖子里嵌入一个 YouTube 视频。

- 专用按钮： N/A
- 注：
  - 如果你有一些大型的或大量的视频，建议把它们放在一个 [折叠框](#折叠框) 里。
- 语法：
  - `YT-ID` 是 YouTube 视频 ID （11个字符长），而不是整个 url ！
    - YouTube 视频 ID 是在 `?v=` 后面的 url 参数。
  ```
  [youtube]YT-ID[/youtube]
  ```

### 标题 （v1）

添加一个漂亮的粉色标题。这通常用于表示你的帖子中的一个新部分。

- 专用按钮： ![标题](img/heading.png)
- 注：
  - 你必须自己输入语法。
- 语法：
  ```
  [heading]...[/heading]
  ```

### 标题 （v2）

用一条水平线来增加一个紫色的大标题。这通常用于表示你的帖子中的一个新部分。

- 专用按钮： N/A
- 注：
  - 这个标签只适用于谱面板块！
  - 这个标签只在发布预览后才出现。
  - 你必须自己输入语法。
- 语法：
  ```
  [...]
  ```

### 通知

把段落放在一个白色的框里。

- 专用按钮： N/A
- 注：
  - 你必须自己输入语法。
- 语法：
  ```
  [notice]
  ...
  [/notice]
  ```

## 冷知识

- 最早的论坛帖子： [HOW TO: Forum BBCodes](https://osu.ppy.sh/community/forums/topics/445599) by [Stefan](https://osu.ppy.sh/users/626907)

### 历史

- 在当前的 osu!web 论坛上有一个颜色错误，如果你使用 `transparent` 这个颜色，它会使文本变得透明。
  - 这个 bug 在新版论坛中已经修复。
